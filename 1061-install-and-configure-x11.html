<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", 106, " />

<meta property="og:title" content="106.1 Install and configure X11 "/>
<meta property="og:url" content="/1061-install-and-configure-x11.html" />
<meta property="og:description" content="106.1 Install and configure X11 Weight: 2 Candidates should be able to install and configure X11. Key Knowledge Areas Verify that the video card and monitor are supported by an X server Awareness of the X font server Basic understanding and knowledge of the X Window configuration file Terms …" />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2021-08-03T13:26:00+02:00" />
<meta name="twitter:title" content="106.1 Install and configure X11 ">
<meta name="twitter:description" content="106.1 Install and configure X11 Weight: 2 Candidates should be able to install and configure X11. Key Knowledge Areas Verify that the video card and monitor are supported by an X server Awareness of the X font server Basic understanding and knowledge of the X Window configuration file Terms …">

        <title>106.1 Install and configure X11  · lpic1book
</title>



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       "/"
                                    >Home</a>
                                </li>
                                <li ><a href="/categories.html">Categories</a></li>
                                <li ><a href="/tags.html">Tags</a></li>
                                <li ><a href="/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="/1061-install-and-configure-x11.html">
                106.1 Install and configure X11
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <h1>106.1 Install and configure X11</h1>
<p><em>Weight: 2</em></p>
<p>Candidates should be able to install and configure X11.</p>
<h3>Key Knowledge Areas</h3>
<ul>
<li>Verify that the video card and monitor are supported by an X server</li>
<li>Awareness of the X font server</li>
<li>Basic understanding and knowledge of the X Window configuration file</li>
</ul>
<h3>Terms and Utilities:</h3>
<ul>
<li>/etc/X11/xorg.conf</li>
<li>xhost</li>
<li>DISPLAY</li>
<li>xwininfo</li>
<li>xdpyinfo</li>
<li>X</li>
</ul>
<h2>Hisotry</h2>
<p>This lesson is useless in modern life! Very strange but practically nothing in this lesson is used in real life because xorg.conf, xhost, ... is not used in any modern linux system anymore. Maybe they are here so you wont be shocked if you see an older linux.</p>
<h2>X</h2>
<p>The X Window System is a network transparent window system which runs on a wide range of computing and graphics machines; including practically ALL linux systems with graphical interfaces. It is also called X11 because of its version, X window system, X server, ...</p>
<h2>/etc/X11/xorg.conf</h2>
<p>This is file X used to use for its configuration. In most cases this is automatically generated and works. Newer systems do not have this file so lets have a look at a xorg.conf I found on the Internet.</p>
<div class="highlight"><pre><span></span><code><span class="err">Section &quot;Files&quot;</span>
<span class="err">    FontPath    &quot;/usr/share/X11/fonts/misc&quot;</span>
<span class="err">    FontPath    &quot;/usr/share/X11/fonts/100dpi/:unscaled&quot;</span>
<span class="err">    FontPath    &quot;/usr/share/X11/fonts/75dpi/:unscaled&quot;</span>
<span class="err">    FontPath    &quot;/usr/share/X11/fonts/Type1&quot;</span>
<span class="err">    FontPath    &quot;/usr/share/X11/fonts/100dpi&quot;</span>
<span class="err">    FontPath    &quot;/usr/share/X11/fonts/75dpi&quot;</span>
<span class="err">    FontPath    &quot;/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType&quot;</span>
<span class="err">EndSection</span>
</code></pre></div>

<p>This part is about Fonts. When X-Server is running it needs these files. FontPaths tell X11 where fonts are. It also can refer to an IP running a font-server which is not common these days. Font servers used to be responsible of rendering fonts to be shown on clients but nowadays computers are fast and can render their own fonts. Font servers are going out of fashion!</p>
<div class="highlight"><pre><span></span><code><span class="err">Section &quot;Module&quot;</span>
<span class="err">    Load    &quot;bitmap&quot;</span>
<span class="err">    Load    &quot;ddc&quot;</span>
<span class="err">    Load    &quot;dri&quot;</span>
<span class="err">    Load    &quot;extmod&quot;</span>
<span class="err">    Load    &quot;freetype&quot;</span>
<span class="err">    Load    &quot;glx&quot;</span>
<span class="err">    Load    &quot;int10&quot;</span>
<span class="err">    Load    &quot;type1&quot;</span>
<span class="err">    Load    &quot;vbe&quot;</span>
<span class="err">    Load    &quot;dbe&quot;</span>
<span class="err">EndSection</span>
</code></pre></div>

<p>These are modules. For example <code>glx</code> takes care of 3d graphical effects. We are asking X server to load so called modules.</p>
<p>Next we have to define our <code>InputDevice</code>s:</p>
<div class="highlight"><pre><span></span><code><span class="n">Section</span> <span class="ss">&quot;InputDevice&quot;</span>
    <span class="n">Identifier</span>  <span class="ss">&quot;Generic Keyboard&quot;</span>
    <span class="n">Driver</span>      <span class="ss">&quot;kbd&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;CoreKeyboard&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;XkbRules&quot;</span>  <span class="ss">&quot;xorg&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;XkbModel&quot;</span>  <span class="ss">&quot;pc105&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;XkbLayout&quot;</span> <span class="ss">&quot;us&quot;</span>
<span class="n">EndSection</span>

<span class="n">Section</span> <span class="ss">&quot;InputDevice&quot;</span>
    <span class="n">Identifier</span>  <span class="ss">&quot;Configured Mouse&quot;</span>
    <span class="n">Driver</span>      <span class="ss">&quot;mouse&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;CorePointer&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;Device&quot;</span>        <span class="ss">&quot;/dev/input/mice&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;Protocol&quot;</span>      <span class="ss">&quot;ImPS/2&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;Emulate3Buttons&quot;</span>   <span class="ss">&quot;true&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;ZAxisMapping&quot;</span>      <span class="ss">&quot;4 5&quot;</span>
<span class="n">EndSection</span>

<span class="n">Section</span> <span class="ss">&quot;InputDevice&quot;</span>
        <span class="n">Identifier</span>      <span class="ss">&quot;Synaptics Touchpad&quot;</span>
        <span class="n">Driver</span>          <span class="ss">&quot;synaptics&quot;</span>
        <span class="k">Option</span>          <span class="ss">&quot;SendCoreEvents&quot;</span>        <span class="ss">&quot;true&quot;</span>
        <span class="k">Option</span>          <span class="ss">&quot;Device&quot;</span>                <span class="ss">&quot;/dev/psaux&quot;</span>
        <span class="k">Option</span>          <span class="ss">&quot;Protocol&quot;</span>              <span class="ss">&quot;auto-dev&quot;</span>
        <span class="k">Option</span>      <span class="ss">&quot;RightEdge&quot;</span>     <span class="ss">&quot;5000&quot;</span>
<span class="n">EndSection</span>
</code></pre></div>

<p>As you can see each device has an <code>Identifier</code>, <code>Driver</code> and some options. We just defined a mouse, a keyboard and a touchpad and gave them some names.</p>
<div class="highlight"><pre><span></span><code><span class="err">Section &quot;Device&quot;</span>
<span class="err">    Identifier  &quot;ATI Technologies, Inc. Radeon Mobility 7500 (M7 LW)&quot;</span>
<span class="err">    Driver      &quot;radeon&quot;</span>
<span class="err">    BusID       &quot;PCI:1:0:0&quot;</span>
<span class="err">    Option      &quot;DynamicClocks&quot; &quot;on&quot;</span>
<span class="err">    Option      &quot;CRT2HSync&quot; &quot;30-80&quot;</span>
<span class="err">    Option      &quot;CRT2VRefresh&quot;  &quot;59-75&quot;</span>
<span class="err">    Option      &quot;MetaModes&quot; &quot;1024x768 800x600 640x480 1024x768+1280x1024&quot;</span>
<span class="err">EndSection</span>
</code></pre></div>

<p>A graphic card is defined above. Again it has its identifies (name), its drivers and some options (like support resolutions, refresh rates, ...). This device needs a screen and a monitor:</p>
<blockquote>
<p>Note: The <code>vesa</code> points to a low resolution, always working driver. It is used for troubleshooting.</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">Section</span> <span class="ss">&quot;Monitor&quot;</span>
    <span class="n">Identifier</span>  <span class="ss">&quot;Generic Monitor&quot;</span>
    <span class="k">Option</span>      <span class="ss">&quot;DPMS&quot;</span>
<span class="n">EndSection</span>

<span class="n">Section</span> <span class="ss">&quot;Screen&quot;</span>
    <span class="n">Identifier</span>  <span class="ss">&quot;Screen0&quot;</span>
    <span class="n">Device</span>      <span class="ss">&quot;Screen0 ATI Technologies, Inc. Radeon Mobility 7500 (M7 LW)&quot;</span>
    <span class="n">Monitor</span>     <span class="ss">&quot;Generic Monitor&quot;</span>
    <span class="n">DefaultDepth</span>    <span class="mi">24</span>
    <span class="n">SubSection</span> <span class="ss">&quot;Display&quot;</span>
        <span class="n">Depth</span>       <span class="mi">1</span>
        <span class="n">Modes</span>       <span class="ss">&quot;1024x768&quot;</span>
    <span class="n">EndSubSection</span>
    <span class="n">SubSection</span> <span class="ss">&quot;Display&quot;</span>
        <span class="n">Depth</span>       <span class="mi">4</span>
        <span class="n">Modes</span>       <span class="ss">&quot;1024x768&quot;</span>
    <span class="n">EndSubSection</span>
    <span class="n">SubSection</span> <span class="ss">&quot;Display&quot;</span>
        <span class="n">Depth</span>       <span class="mi">8</span>
        <span class="n">Modes</span>       <span class="ss">&quot;1024x768&quot;</span>
    <span class="n">EndSubSection</span>
    <span class="n">SubSection</span> <span class="ss">&quot;Display&quot;</span>
        <span class="n">Depth</span>       <span class="mi">15</span>
        <span class="n">Modes</span>       <span class="ss">&quot;1024x768&quot;</span>
    <span class="n">EndSubSection</span>
    <span class="n">SubSection</span> <span class="ss">&quot;Display&quot;</span>
        <span class="n">Depth</span>       <span class="mi">16</span>
        <span class="n">Modes</span>       <span class="ss">&quot;1024x768&quot;</span>
    <span class="n">EndSubSection</span>
    <span class="n">SubSection</span> <span class="ss">&quot;Display&quot;</span>
        <span class="n">Depth</span>       <span class="mi">24</span>
        <span class="n">Modes</span>       <span class="ss">&quot;1024x768&quot;</span>
    <span class="n">EndSubSection</span>
<span class="n">EndSection</span>
</code></pre></div>

<p>Note how the screen uses the defined monitor (using its identifier "Generic Monitor") and defined graphic card. Also note the different color modes (say 24bit 1024x768).</p>
<p>At the end we have to glue all of the above in one place as <code>ServerLayout</code>:</p>
<div class="highlight"><pre><span></span><code><span class="err">Section &quot;ServerLayout&quot;</span>
<span class="err">    Identifier  &quot;DefaultLayout&quot;</span>
<span class="err">    Screen      &quot;Default Screen&quot;</span>
<span class="err">    InputDevice &quot;Generic Keyboard&quot;</span>
<span class="err">    InputDevice &quot;Configured Mouse&quot;</span>
<span class="err">    InputDevice &quot;Synaptics Touchpad&quot;</span>
<span class="err">EndSection</span>
</code></pre></div>

<p>We have a layout with a screen and 3 input devices :)</p>
<blockquote>
<p>Note: Do not panic. It is enough for you to understand the <code>Section</code> and <code>EndSection</code> and a general understanding of the xorg.conf</p>
</blockquote>
<h2>xwininfo</h2>
<p>The <code>xwininfo</code> command is a window information utility for X. Run it and it waits for you to click on any window and gives you some information about that <em>window</em> like its size, position, color depth, ...</p>
<div class="highlight"><pre><span></span><code>$ xwininfo

xwininfo: Please <span class="k">select</span> the window about which you
          would like information by clicking the
          mouse in that window.

xwininfo: Window id: 0x5400004 <span class="s2">&quot;jadi@funlife: ~/w/lpic/lpic1book&quot;</span>

  Absolute upper-left X:  <span class="m">629</span>
  Absolute upper-left Y:  <span class="m">245</span>
  Relative upper-left X:  <span class="m">10</span>
  Relative upper-left Y:  <span class="m">36</span>
  Width: <span class="m">655</span>
  Height: <span class="m">426</span>
  Depth: <span class="m">32</span>
  Visual: 0x71
  Visual Class: TrueColor
  Border width: <span class="m">0</span>
  Class: InputOutput
  Colormap: 0x5400003 <span class="o">(</span>not installed<span class="o">)</span>
  Bit Gravity State: NorthWestGravity
  Window Gravity State: NorthWestGravity
  Backing Store State: NotUseful
  Save Under State: no
  Map State: IsViewable
  Override Redirect State: no
  Corners:  +629+245  -82+245  -82-97  +629-97
  -geometry 80x24-72-87
</code></pre></div>

<h2>xdpyinfo</h2>
<p>This give you information about the running X session. Things like screens, color depth, version, name, ...</p>
<div class="highlight"><pre><span></span><code><span class="err">name of display:    :0</span>
<span class="err">version number:    11.0</span>
<span class="err">vendor string:    The X.Org Foundation</span>
<span class="err">vendor release number:    11701000</span>
<span class="err">X.Org version: 1.17.1</span>
<span class="err">maximum request size:  16777212 bytes</span>
<span class="err">motion buffer size:  256</span>
<span class="err">bitmap unit, bit order, padding:    32, LSBFirst, 32</span>
<span class="err">image byte order:    LSBFirst</span>
<span class="err">number of supported pixmap formats:    7</span>
<span class="err">supported pixmap formats:</span>
<span class="err">    depth 1, bits_per_pixel 1, scanline_pad 32</span>
<span class="err">    depth 4, bits_per_pixel 8, scanline_pad 32</span>
<span class="err">    depth 8, bits_per_pixel 8, scanline_pad 32</span>
<span class="err">    depth 15, bits_per_pixel 16, scanline_pad 32</span>
<span class="err">    depth 16, bits_per_pixel 16, scanline_pad 32</span>
<span class="err">    depth 24, bits_per_pixel 32, scanline_pad 32</span>
<span class="err">    depth 32, bits_per_pixel 32, scanline_pad 32</span>
<span class="err">keycode range:    minimum 8, maximum 255</span>
<span class="c">focus:  window 0x5400005, revert to Parent</span>
<span class="err">number of extensions:    28</span>
<span class="err">    BIG-REQUESTS</span>
<span class="err">    Composite</span>
<span class="err">    DAMAGE</span>
<span class="err">...</span>
<span class="err">...</span>
</code></pre></div>

<h2>xhost</h2>
<p>This command used to control the access to the X server. If you are on a X server and run <code>xhost</code> it tells you the access status.</p>
<div class="highlight"><pre><span></span><code>$ xhost
access control enabled, only authorized clients can connect
SI:localuser:jadi
</code></pre></div>

<p>As you can see only authorized clients can connect. To open it for all:</p>
<div class="highlight"><pre><span></span><code><span class="err">jadi@funlife:~$ xhost +</span>
<span class="err">access control disabled, clients can connect from any host</span>
</code></pre></div>

<p>And for closing it again:</p>
<div class="highlight"><pre><span></span><code><span class="err">jadi@funlife:~$ xhost -</span>
<span class="err">access control enabled, only authorized clients can connect</span>
</code></pre></div>

<p>Or open it for only one specific IP:</p>
<div class="highlight"><pre><span></span><code><span class="err">jadi@funlife:~$ xhost +192.168.42.85</span>
<span class="err">192.168.42.85 being added to access control list</span>
<span class="err">jadi@funlife:~$ xhost</span>
<span class="err">access control enabled, only authorized clients can connect</span>
<span class="c">INET:192.168.42.85  (no nameserver response within 5 seconds)</span>
<span class="c">SI:localuser:jadi</span>
</code></pre></div>

<h3>DISPLAY</h3>
<p>This variable tell graphical program where to show their graphical output (where to draw their inputs). In normal cases this is set on my own machine:</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">echo</span> <span class="nv">$DISPLAY</span>
:0
</code></pre></div>

<p>but if another X is listening to all IPs (after <code>xhost +</code>) or listening to my machine (after <code>xhost 192.168.42.85</code>) I can change the DISPLAY environment and connect my graphical output to that machine. In this case if I run a graphical program, its output (windows) will be shown on another machine:</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">export</span> <span class="nv">DISPLAY</span><span class="o">=</span><span class="m">192</span>.168.42.85:0
$ xeyes <span class="c1"># the eyes will be shown on 192.168.42.85 machine</span>
</code></pre></div>

<blockquote>
<p>Note: This wont work if you test it on a modern machine. Most X11s do not listen on any port these days.</p>
</blockquote>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-08-03T13:26:00+02:00">Tue 03 August 2021</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#106-ref">106</a>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>