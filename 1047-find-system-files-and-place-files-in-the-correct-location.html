<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Jadi" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", 104, " />

<meta property="og:title" content="104.7 Find system files and place files in the correct location "/>
<meta property="og:url" content="/1047-find-system-files-and-place-files-in-the-correct-location.html" />
<meta property="og:description" content="104.7 Find system files and place files in the correct location Weight: 2 Candidates should be thoroughly familiar with the Filesystem Hierarchy Standard (FHS), including typical file locations and directory classifications. Objectives Understand the correct locations of files under the FHS. Find files and commands on a Linux system …" />
<meta property="og:site_name" content="lpic1book" />
<meta property="og:article:author" content="Jadi" />
<meta property="og:article:published_time" content="2021-08-03T13:24:00+02:00" />
<meta name="twitter:title" content="104.7 Find system files and place files in the correct location ">
<meta name="twitter:description" content="104.7 Find system files and place files in the correct location Weight: 2 Candidates should be thoroughly familiar with the Filesystem Hierarchy Standard (FHS), including typical file locations and directory classifications. Objectives Understand the correct locations of files under the FHS. Find files and commands on a Linux system …">

        <title>104.7 Find system files and place files in the correct location  · lpic1book
</title>



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/"><span class=site-name>lpic1book</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       "/"
                                    >Home</a>
                                </li>
                                <li ><a href="/categories.html">Categories</a></li>
                                <li ><a href="/tags.html">Tags</a></li>
                                <li ><a href="/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="/1047-find-system-files-and-place-files-in-the-correct-location.html">
                104.7 Find system files and place files in the correct location
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <h1>104.7 Find system files and place files in the correct location</h1>
<p><em>Weight: 2</em></p>
<p>Candidates should be thoroughly familiar with the <strong>Filesystem Hierarchy Standard (FHS)</strong>, including typical file locations and directory classifications.</p>
<h2>Objectives</h2>
<ul>
<li>Understand the correct locations of files under the FHS.</li>
<li>Find files and commands on a Linux system.</li>
<li>
<p>Know the location and purpose of important file and directories as defined in the FHS.</p>
</li>
<li>
<p>find</p>
</li>
<li>locate</li>
<li>updatedb</li>
<li>whereis</li>
<li>which</li>
<li>type</li>
<li>/etc/updatedb.conf</li>
</ul>
<h2>FHS</h2>
<p>Filesystem Hierarchy Standard (FHS) is a document describing the Linux / Unix file hierarchy. It is very useful to know these because it lets you easily find what you are looking for:</p>
<table>
<thead>
<tr>
<th>directory</th>
<th>usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>bin</td>
<td>Essential command binaries</td>
</tr>
<tr>
<td>boot</td>
<td>Static files of the boot loader</td>
</tr>
<tr>
<td>dev</td>
<td>Device files</td>
</tr>
<tr>
<td>etc</td>
<td>Host-specific system configuration</td>
</tr>
<tr>
<td>lib</td>
<td>Essential shared libraries and kernel modules</td>
</tr>
<tr>
<td>media</td>
<td>Mount point for removable media</td>
</tr>
<tr>
<td>mnt</td>
<td>Mount point for mounting a filesystem temporarily</td>
</tr>
<tr>
<td>opt</td>
<td>Add-on application software packages</td>
</tr>
<tr>
<td>sbin</td>
<td>Essential system binaries</td>
</tr>
<tr>
<td>srv</td>
<td>Data for services provided by this system</td>
</tr>
<tr>
<td>tmp</td>
<td>Temporary files</td>
</tr>
<tr>
<td>usr</td>
<td>Secondary hierarchy</td>
</tr>
<tr>
<td>var</td>
<td>Variable data</td>
</tr>
<tr>
<td>home</td>
<td>User home directories (optional)</td>
</tr>
<tr>
<td>lib<qual></td>
<td>Alternate format essential shared libraries (optional)</td>
</tr>
<tr>
<td>root</td>
<td>Home directory for the root user (optional)</td>
</tr>
</tbody>
</table>
<p>The <code>/usr</code> filesystem is the second major section of the filesystem, containing shareable, read-only data. It can be shared between systems, although present practice does not often do this.</p>
<p>The <code>/var</code> filesystem contains variable data files, including spool directories and files, administrative and logging data, and transient and temporary files. Some portions of /var are not shareable between different systems, but others, such as /var/mail, /var/cache/man, /var/cache/fonts, and /var/spool/news, may be shared.</p>
<h2>Path</h2>
<p>A general linux install has a lot of files; 741341 files in my case. So how it find out where to look when you type a command? This is done by a variable called PATH:</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">echo</span> <span class="nv">$PATH</span>
/home/jadi/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games<span class="p">;</span>/home/jadi/bin/
</code></pre></div>

<p>And for root user:</p>
<div class="highlight"><pre><span></span><code><span class="err"># echo $PATH</span>
<span class="err">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</span>
</code></pre></div>

<p>As you can see, this is the list of directories separated with a colon. Obviously you can change your path with <code>export PATH=$PATH:/usr/new/dir</code> or put this in <code>.bashrc</code> to make it permanent.</p>
<h2>which, type and whereis</h2>
<p>The <code>which</code> command shows the first appearance of the command given in path:</p>
<div class="highlight"><pre><span></span><code>$ which mkfd
$ which mkfs
/sbin/mkfs
</code></pre></div>

<blockquote>
<p>use the <code>-a</code> switch to show all appearance in the path and not only the first one.</p>
</blockquote>
<p>But what happens if you <code>which for</code> ?</p>
<div class="highlight"><pre><span></span><code>$ which <span class="k">for</span>
$ <span class="nb">type</span> <span class="k">for</span>
<span class="k">for</span> is a shell keyword
</code></pre></div>

<p>As you can see, <code>which</code> did not found anything for <code>for</code> and we used <code>type</code>.</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">type</span> <span class="nb">type</span>
<span class="nb">type</span> is a shell <span class="nb">builtin</span>
$ <span class="nb">type</span> <span class="k">for</span>
<span class="k">for</span> is a shell keyword
$ <span class="nb">type</span> mkfs
mkfs is /sbin/mkfs
$ <span class="nb">type</span> mkfd
bash: type: mkfd: not found
</code></pre></div>

<p>The <code>type</code> command is more general that <code>which</code> and also understand and shows the <em>bash keywords</em>.</p>
<p>Another useful command in this category is <code>whereis</code>. Unlike <code>which</code>, <code>whereis</code> shows man pages and source codes of programs alongside their binary location.</p>
<div class="highlight"><pre><span></span><code>$ whereis mkfs
mkfs: /sbin/mkfs.bfs /sbin/mkfs.ext3 /sbin/mkfs.ext4 /sbin/mkfs.vfat /sbin/mkfs.cramfs /sbin/mkfs.minix /sbin/mkfs.ext2 /sbin/mkfs.msdos /sbin/mkfs.fat /sbin/mkfs.ntfs /sbin/mkfs.ext4dev /sbin/mkfs /usr/share/man/man8/mkfs.8.gz
$ whereis ping
ping: /bin/ping /usr/share/man/man8/ping.8.gz
$ whereis chert
chert:
$
</code></pre></div>

<h2>find</h2>
<p>We have already seen this command in detail but lets see a couple of new switches.</p>
<ul>
<li>The <code>-user</code> and <code>-group</code> specifies a specific user &amp; group</li>
<li>The <code>-maxdepth</code> tells the find how deep it should go into the directories.</li>
</ul>
<div class="highlight"><pre><span></span><code>$ find /tmp/ -maxdepth <span class="m">1</span> -user jadi <span class="p">|</span> head
$ find /tmp/ -maxdepth <span class="m">1</span> -user jadi <span class="p">|</span> head
/tmp/asheghloo.png
/tmp/tmpAN6Drb
/tmp/wrapper-24115-2-out
/tmp/sni-qt_goldendict_20048-sRlmvN
/tmp/asheghloo.gif
/tmp/zim-jadi
/tmp/3la.txt
/tmp/unity_support_test.0
/tmp/batman.jpg
</code></pre></div>

<p>Or even find the files not belonging to any user / group with <code>-nouser</code> and <code>-nogroup</code>.</p>
<blockquote>
<p>Like other <em>tests</em>, you can add a <code>!</code> just before any phrase to negate it. So this will find files <strong>not belonging</strong> to jadi: <code>find . ! -user jadi</code></p>
</blockquote>
<h2>locate &amp; updatedb</h2>
<p>You tries <code>find</code> and know that it is slowwwww... It searches the file system on each run but lets see the fastest command:</p>
<div class="highlight"><pre><span></span><code>$ locate happy
/home/jadi/.Spark/xtra/emoticons/Default.adiumemoticonset/happy.png
/home/jadi/.Spark/xtra/emoticons/sparkEmoticonSet/happy.png
/home/jadi/Downloads/jadi-net_radio-geek_040_antihappy.mp3
/usr/share/emoticons/kde4/unhappy.png
/usr/share/pixmaps/fvwm/mini.happy.xpm
/usr/share/pixmaps/pidgin/emotes/default/happy.png
/usr/share/pixmaps/pidgin/emotes/small/happy.png
/usr/src/linux-headers-3.13.0-40-generic/include/config/happymeal.h
/usr/src/linux-headers-3.16.0-25-generic/include/config/happymeal.h
/usr/src/linux-headers-3.16.0-28-generic/include/config/happymeal.h
/usr/src/linux-headers-3.16.0-29-generic/include/config/happymeal.h
</code></pre></div>

<p>And it is fast:</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">time</span> locate kernel <span class="p">|</span> wc -l
<span class="m">11235</span>

real    0m0.341s
user    0m0.322s
sys 0m0.015s
</code></pre></div>

<p>This is fast because its data comes from a database created with <code>updatedb</code> command which is usually run on a daily basis with a cron job. Its configuration file is <code>/etc/updatedb.conf</code> or <code>/etc/sysconfig/locate</code>:</p>
<div class="highlight"><pre><span></span><code>$ cat /etc/updatedb.conf
<span class="nv">PRUNE_BIND_MOUNTS</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
<span class="c1"># PRUNENAMES=&quot;.git .bzr .hg .svn&quot;</span>
<span class="nv">PRUNEPATHS</span><span class="o">=</span><span class="s2">&quot;/tmp /var/spool /media /home/.ecryptfs&quot;</span>
<span class="nv">PRUNEFS</span><span class="o">=</span><span class="s2">&quot;NFS nfs nfs4 rpc_pipefs afs binfmt_misc proc smbfs autofs iso9660 ncpfs coda devpts ftpfs devfs mfs shfs sysfs cifs lustre tmpfs usbfs udf fuse.glusterfs fuse.sshfs curlftpfs ecryptfs fusesmb devtmpfs&quot;</span>
</code></pre></div>

<p>Please note that you can update the db by running <code>updatedb</code> as root and get some info about it by <code>-S</code> switch of <code>locate</code> command:</p>
<p><code>`
$ locate -S
Database /var/lib/mlocate/mlocate.db:
    73,602 directories
    711,894 files
    46,160,154 bytes in file names
    18,912,999 bytes used to store database</code></p>
<h1>And... the LPIC1 exam 101 is DONE! Congrats.</h1>
<p>http://j.mp/jadilpic1</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-08-03T13:24:00+02:00">Tue 03 August 2021</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#104-ref">104</a>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>